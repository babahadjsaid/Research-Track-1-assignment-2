<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Research-Track-1-assignment-2: src/Subscriber.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Research-Track-1-assignment-2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_subscriber_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Subscriber.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Stats on the robot performance.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;ros/ros.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;assignment_2_2022/PlanningAction.h&gt;</code><br />
<code>#include &quot;client_action/custommsg.h&quot;</code><br />
<code>#include &lt;actionlib_msgs/GoalStatusArray.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Subscriber.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="_subscriber_8cpp__incl.png" border="0" usemap="#src_2_subscriber_8cpp" alt=""/></div>
<map name="src_2_subscriber_8cpp" id="src_2_subscriber_8cpp">
<area shape="rect" title="Stats on the robot performance." alt="" coords="464,5,604,32"/>
<area shape="rect" title=" " alt="" coords="5,87,84,114"/>
<area shape="rect" title=" " alt="" coords="109,87,175,114"/>
<area shape="rect" title=" " alt="" coords="199,80,411,121"/>
<area shape="rect" title=" " alt="" coords="435,87,633,114"/>
<area shape="rect" title=" " alt="" coords="657,80,851,121"/>
<area shape="rect" title=" " alt="" coords="876,87,944,114"/>
<area shape="rect" title=" " alt="" coords="969,87,1035,114"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a64a709645161935afeb3ccc64bbd2a09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_subscriber_8cpp.html#a64a709645161935afeb3ccc64bbd2a09">MyCallBack</a> (const actionlib_msgs::GoalStatusArray::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a64a709645161935afeb3ccc64bbd2a09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for calculating the stats.  <a href="_subscriber_8cpp.html#a64a709645161935afeb3ccc64bbd2a09">More...</a><br /></td></tr>
<tr class="separator:a64a709645161935afeb3ccc64bbd2a09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a711e986fc9f0f1d8e33b60f61be62acc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_subscriber_8cpp.html#a711e986fc9f0f1d8e33b60f61be62acc">CustomMessageCallback</a> (const client_action::custommsg::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a711e986fc9f0f1d8e33b60f61be62acc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for Updating the velocity and pose of the robot.  <a href="_subscriber_8cpp.html#a711e986fc9f0f1d8e33b60f61be62acc">More...</a><br /></td></tr>
<tr class="separator:a711e986fc9f0f1d8e33b60f61be62acc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2256e5f96592877641f4cad2016698"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_subscriber_8cpp.html#a3f2256e5f96592877641f4cad2016698">goalCallback</a> (const assignment_2_2022::PlanningActionGoal::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a3f2256e5f96592877641f4cad2016698"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for handling goal messages.  <a href="_subscriber_8cpp.html#a3f2256e5f96592877641f4cad2016698">More...</a><br /></td></tr>
<tr class="separator:a3f2256e5f96592877641f4cad2016698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top"><a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a99a4e9d7a1f4020ba824c5704395fbef"><td class="memItemLeft" align="right" valign="top"><a id="a99a4e9d7a1f4020ba824c5704395fbef"></a>
client_action::custommsg&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_subscriber_8cpp.html#a99a4e9d7a1f4020ba824c5704395fbef">my_msg</a></td></tr>
<tr class="memdesc:a99a4e9d7a1f4020ba824c5704395fbef"><td class="mdescLeft">&#160;</td><td class="mdescRight">An object of the custom message type <code>client_action::custommsg</code>. <br /></td></tr>
<tr class="separator:a99a4e9d7a1f4020ba824c5704395fbef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad3e48da0521583bab8a5127a0d4436"><td class="memItemLeft" align="right" valign="top"><a id="a9ad3e48da0521583bab8a5127a0d4436"></a>
assignment_2_2022::PlanningGoal&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_subscriber_8cpp.html#a9ad3e48da0521583bab8a5127a0d4436">goal</a></td></tr>
<tr class="memdesc:a9ad3e48da0521583bab8a5127a0d4436"><td class="mdescLeft">&#160;</td><td class="mdescRight">An object of the goal message type <code>assignment_2_2022::PlanningGoal</code>. <br /></td></tr>
<tr class="separator:a9ad3e48da0521583bab8a5127a0d4436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46dea58f2d527f376090214bd5c3233d"><td class="memItemLeft" align="right" valign="top"><a id="a46dea58f2d527f376090214bd5c3233d"></a>
std::chrono::time_point&lt; std::chrono::high_resolution_clock &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>start</b></td></tr>
<tr class="separator:a46dea58f2d527f376090214bd5c3233d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace54cb99b52f35f3a98f99e2a75dd5ad"><td class="memItemLeft" align="right" valign="top"><a id="ace54cb99b52f35f3a98f99e2a75dd5ad"></a>
std::chrono::time_point&lt; std::chrono::high_resolution_clock &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_subscriber_8cpp.html#ace54cb99b52f35f3a98f99e2a75dd5ad">end</a></td></tr>
<tr class="memdesc:ace54cb99b52f35f3a98f99e2a75dd5ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time points created using <code>std::chrono::high_resolution_clock</code> for measuring time. <br /></td></tr>
<tr class="separator:ace54cb99b52f35f3a98f99e2a75dd5ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e27f49150e9a14580fb313cc2777e00"><td class="memItemLeft" align="right" valign="top"><a id="a6e27f49150e9a14580fb313cc2777e00"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>status</b></td></tr>
<tr class="separator:a6e27f49150e9a14580fb313cc2777e00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a869dc96b4fa3d9bd19c20088b1fc9cf4"><td class="memItemLeft" align="right" valign="top"><a id="a869dc96b4fa3d9bd19c20088b1fc9cf4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_subscriber_8cpp.html#a869dc96b4fa3d9bd19c20088b1fc9cf4">tmp</a></td></tr>
<tr class="memdesc:a869dc96b4fa3d9bd19c20088b1fc9cf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variables for storing the current and previous status. <br /></td></tr>
<tr class="separator:a869dc96b4fa3d9bd19c20088b1fc9cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1487a094ccb34eb279e5c70a25539637"><td class="memItemLeft" align="right" valign="top"><a id="a1487a094ccb34eb279e5c70a25539637"></a>
geometry_msgs::Point&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_subscriber_8cpp.html#a1487a094ccb34eb279e5c70a25539637">startingpose</a></td></tr>
<tr class="memdesc:a1487a094ccb34eb279e5c70a25539637"><td class="mdescLeft">&#160;</td><td class="mdescRight">A variable of type <code>geometry_msgs::Point</code> used for storing the starting position. <br /></td></tr>
<tr class="separator:a1487a094ccb34eb279e5c70a25539637"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stats on the robot performance. </p>
<p>Subscribes To: <br  />
 ° /duplicatedOdom ° /reaching_goal/goal ° /reaching_goal/status</p>
<p>Description :</p>
<p>This node subscribes to The custom message containing the robot's position and velocity. It calculates the distance traveled by the robot and the average speed. The calculated values are printed to the console.</p>
<dl class="section author"><dt>Author</dt><dd>Baba HADJ SAID </dd></dl>
<dl class="section date"><dt>Date</dt><dd>24/05/2023 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a711e986fc9f0f1d8e33b60f61be62acc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a711e986fc9f0f1d8e33b60f61be62acc">&#9670;&nbsp;</a></span>CustomMessageCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CustomMessageCallback </td>
          <td>(</td>
          <td class="paramtype">const client_action::custommsg::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function for Updating the velocity and pose of the robot. </p>
<p>This function is called when a custom message is received on the '/duplicatedOdom' topic. It copies the received message data into the 'my_msg' variable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The custom message received. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3f2256e5f96592877641f4cad2016698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f2256e5f96592877641f4cad2016698">&#9670;&nbsp;</a></span>goalCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void goalCallback </td>
          <td>(</td>
          <td class="paramtype">const assignment_2_2022::PlanningActionGoal::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function for handling goal messages. </p>
<p>This function is called when a goal message is received on the '/reaching_goal/goal' topic. to set the start time and starting position of the robot, it is needed for the calculations later.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The goal message received. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a64a709645161935afeb3ccc64bbd2a09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64a709645161935afeb3ccc64bbd2a09">&#9670;&nbsp;</a></span>MyCallBack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MyCallBack </td>
          <td>(</td>
          <td class="paramtype">const actionlib_msgs::GoalStatusArray::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for calculating the stats. </p>
<p>This function is called when a GoalStatusArray message is received on the '/reaching_goal/status' topic. It checks if the status is "Gooal Reached" if so performs calculations of the distance traveled and the average speed, if the status indicates goal completion. It then prints the calculated results.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The GoalStatusArray message received. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="_subscriber_8cpp.html">Subscriber.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
